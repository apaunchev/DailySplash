!function(n){function t(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return n[o].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var e={};return t.m=n,t.c=e,t.i=function(n){return n},t.d=function(n,e,o){t.o(n,e)||Object.defineProperty(n,e,{configurable:!1,enumerable:!0,get:o})},t.n=function(n){var e=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(e,"a",e),e},t.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},t.p="",t(t.s=17)}({17:function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=e(3),r=e(2),i=window.localStorage,u={body:e.i(o.a)("body"),main:e.i(o.a)("main"),btnMore:e.i(o.a)(".btn-more"),linkDownload:e.i(o.a)(".link-download"),linkView:e.i(o.a)(".link-view")},c=function(){a(),i.getItem("nextPhoto")?(f(JSON.parse(i.getItem("nextPhoto"))),d()):d(!0)},a=function(){u.btnMore.addEventListener("click",l)},l=function(){return e.i(o.a)(".popover").classList.toggle("is-visible")},d=function(){var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e.i(o.b)(r.a).then(function(t){e.i(o.c)(t.urls.regular).then(function(e){var o={photoId:t.id,color:t.color,htmlPath:t.links.html,downloadPath:t.links.download,imageData:e};i.setItem("nextPhoto",JSON.stringify(o)),n&&f(o)}).catch(function(n){return console.error(n)})}).catch(function(n){return console.error(n)})},f=function(n){u.main.style.backgroundColor=""+n.color,u.main.style.backgroundImage="url("+n.imageData+")",u.linkDownload.href=""+n.downloadPath,u.linkView.href=""+n.htmlPath};c()},2:function(n,t,e){"use strict";e.d(t,"a",function(){return r});var o="1997df71664984f20c0b1b8fcd42d1279fb98c424e07e0e1385299eed6935142",r="https://api.unsplash.com/photos/random?client_id="+o},3:function(n,t,e){"use strict";e.d(t,"a",function(){return o}),e.d(t,"b",function(){return i}),e.d(t,"c",function(){return u});var o=document.querySelector.bind(document),r=(document.querySelectorAll.bind(document),window.fetch),i=function(n){return r(n).then(function(n){return n.json()}).then(function(n){return n}).catch(function(n){return console.error(n)})},u=function(n){return r(n).then(function(n){return n.blob()}).then(function(n){return new Promise(function(t,e){var o=new window.FileReader;o.onloadend=function(){return t(o.result)},o.onerror=e,o.readAsDataURL(n)})}).catch(function(n){return console.error(n)})}}});
//# sourceMappingURL=app.js.map